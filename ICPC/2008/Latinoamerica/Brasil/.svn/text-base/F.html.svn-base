<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML>
<HEAD>
<TITLE>Musical Loop</TITLE>
</HEAD>
<BODY LANG="EN" BGCOLOR=#FFFFFF>
 <H1><BR CLEAR=ALL><CENTER><TABLE BGCOLOR=#0060F0><TR><TD><B><FONT SIZE=5 COLOR=#C0FFFF>&nbsp;Musical Loop</FONT>&nbsp</B></TABLE></CENTER></H1>
<P>

<H2><FONT COLOR=#0070E8>The Problem</FONT></H2>

<p>
A <i>musical loop</i> is a small section of music composed to be
played continuously (that is, the section is played again
when it reaches the end), in a seamless way. Loops are used
in many styles of popular music (hip hop, techno, etc), as
well in computer games, especially casual games on the Internet.

<!--
Um loop musical é um trecho de música que foi composto para repetir
continuamente (ou seja, o trecho inicia novamente toda vez que chega ao
final), sem que se note descontinuidade.  Loops são muito usados na
sonorização de jogos, especialmente jogos casuais pela internet.
-->

<p>Loops may be digitalized for example using PCM (Pulse Code Modulation),
a technique for representing analog signals used extensively in digital audio.
In PCM, the magnitude of the signal is sampled at regular intervals, and the 
values sampled are stored in sequence. To produce the sound for the
sampled data, the procedure is applied in reverse (demodulation).

<!--
Loops podem ser digitalizados por exemplo utilizando PCM.
PCM, do inglês \emph{Pulse Code Modulation}, é uma técnica para representação 
de sinais analógicos, muito utilizada em áudio digital. Nessa
técnica, a magnitude do sinal é amostrada a intervalos regulares de tempo, e
os valores amostrados são armazenados em sequência. Para reproduzir a forma
de onda amostrada, o processo é invertido (demodulação).
-->

<p>
Fernanda works for a game software house, and composed a beautiful musical 
loop, coded in PCM. Analyzing the waveform of her loop in audio editing
software, Fernanda became curious when she noticed the number of "peaks".
A <i>peak</i> in a waveform is the value of a sample that represents
a local maximum or minimum. The figure below illustrates (a) a waveform 
and (b) the loop formed with this waveform, containing 48 peaks.

<center>
<img src="p11496.png">
</center>

<p>
Fernandinha is a dear friend of yours. She has asked your help to determine
how many peaks exist in her musical loop.

<!--
Fernandinha trabalha para uma empresa que desenvolve jogos e compôs um
bonito loop musical, codificando-o em PCM. Analisando a forma de onda do
seu loop em um software de edição de áudio, Fernandinha ficou curiosa
ao notar a quantidade de ``picos'' existentes.  Um \emph{pico} em uma
forma de onda é um valor de uma amostra que representa um máximo ou mínimo
local, ou seja, um ponto de inflexão da forma de onda. A figura abaixo
ilustra (a) um exemplo de forma de onda e (b) o loop formado com essa forma
de onda, contendo 48 picos.

\begin{center}
\epsfig{file=picos_fig.eps,width=0.70\textwidth}
\end{center}

Fernandinha é uma amiga muito querida e pediu sua ajuda para
determinar quantos picos existem no seu loop musical.
-->

<H2><FONT COLOR=#0070E8>The Input</FONT></H2>

<p>
The input contains several test cases. The first line of a test case contains
one integer <i>N</i>, representing the number of samples in the musical loop composed
by Fernanda (<i>2 &le; N &le; 10<sup>4</sup></i>). The second line contains
<i>N</i> integers <i>H<sub>i</sub></i>, separated by spaces, representing
the sequence of magnitudes sampled (<i>-10<sup>4</sup> &le; H<sub>i</sub> &le; 10<sup>4</sup></i>
for <i>1 &le; i &le; N</i>, <i>H<sub>1</sub> &ne; H<sub>N</sub></i> and <i>H<sub>i</sub> &ne; H<sub>i+1</sub></i> for
<i>1 &le; i < N</i>). Notice that <i>H<sub>1</sub></i> follows <i>H<sub>N</sub></i> when
the loop is played.

<p>
The end of the input is indicated by a line that contains only one zero.

<!-- A entrada contém vários casos de teste.  A primeira linha de um
caso de teste contém um inteiro <i>N<i>, representando o número de
amostras no loop musical de Fernandinha (<i>2 &le; N &le; 10<sup>3</sup><i>). A
segunda linha contém <i>N<i> inteiros <i>H<sub></sub>i<i>, separados
por espaços, representando a sequência de magnitudes das amostras
(<i>-10<sup>3<sup> &le; H<sub></sub>i &le; 10<sup>3</sup><i> para <i>1 &le; i &le;
N<i>, <i>H<sub></sub>1 \neq H<sub></sub>N<i> e <i>H<sub></sub>i \neq
H<sub></sub>{i+1}<i> para
<i>1 &le; i < N<i>). Note que <i>H<sub></sub>1<i> segue <i>H<sub></sub>N<i> quando o loop é
reproduzido. O final da entrada é indicado por <i>N=0<i>.
-->

<H2><FONT COLOR=#0070E8>The Output</FONT></H2>

<p>
For each test case in the input your program must print a single line,
containing one integer, the number of peaks that exist in the musical loop.

<!--
Para cada caso de teste da entrada seu programa deve imprimir um único
inteiro, o número de picos existentes no loop musical de
Fernandinha.
-->

<H2><FONT COLOR=#0070E8>Sample Input</FONT></H2>
<P>
<PRE>
2
1 -3
6
40 0 -41 0 41 42
4
300 450 449 450
0

</PRE>
<P>
<H2><FONT COLOR=#0070E8>Sample Output</FONT></H2>
<P>
<PRE>
2
2
4
</PRE>
</BODY>
</HTML>
